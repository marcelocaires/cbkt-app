<div class="endereco-container">
  <form [formGroup]="form">
    <div class="form-row">
      <mat-form-field appearance="outline" class="cep-field">
        <mat-label>CEP</mat-label>
        <input matInput formControlName="cep" placeholder="00000-000" maxlength="9" (blur)="buscarCep()">
        @if (form.get('cep')?.hasError('required') && form.get('cep')?.touched) {
          <mat-error>{{ getErrorMessage('cep') }}</mat-error>
        }
        @if (form.get('cep')?.hasError('pattern') && form.get('cep')?.touched) {
          <mat-error>{{ getErrorMessage('cep') }}</mat-error>
        }
        <mat-icon style="cursor:pointer" matSuffix (click)="buscarCep()">search</mat-icon>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="logradouro-field">
        <mat-label>Logradouro</mat-label>
        <input matInput formControlName="logradouro" placeholder="Rua, Avenida, etc.">
        @if (form.get('logradouro')?.hasError('required') && form.get('logradouro')?.touched) {
          <mat-error>{{ getErrorMessage('logradouro') }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="outline" class="numero-field">
        <mat-label>NÃºmero</mat-label>
        <input matInput formControlName="numero" id="numero" placeholder="123">
        @if (form.get('numero')?.hasError('required') && form.get('numero')?.touched) {
          <mat-error>{{ getErrorMessage('numero') }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="complemento-field">
        <mat-label>Complemento</mat-label>
        <input matInput formControlName="complemento" placeholder="Apto, Bloco, etc.">
      </mat-form-field>

      <mat-form-field appearance="outline" class="bairro-field">
        <mat-label>Bairro</mat-label>
        <input matInput formControlName="bairro" placeholder="Nome do bairro">
        @if (form.get('bairro')?.hasError('required') && form.get('bairro')?.touched) {
          <mat-error>{{ getErrorMessage('bairro') }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="cidade-field">
        <mat-label>Cidade</mat-label>
        <input matInput formControlName="cidade" placeholder="Nome da cidade">
        @if (form.get('cidade')?.hasError('required') && form.get('cidade')?.touched) {
          <mat-error>{{ getErrorMessage('cidade') }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="outline" class="estado-field">
        <mat-label>Estado</mat-label>
        <input matInput formControlName="estado" placeholder="UF" maxlength="2">
        @if (form.get('estado')?.hasError('required') && form.get('estado')?.touched) {
          <mat-error>{{ getErrorMessage('estado') }}</mat-error>
        }
      </mat-form-field>
    </div>
  </form>
</div>
