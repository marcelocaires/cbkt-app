<!-- Formulário de Dados Pessoais do Atleta -->
<div></div>
<form [formGroup]="form" class="atleta-dados-form">
  <!-- Seção de Dados Pessoais -->
  <mat-card class="form-section">
    <mat-card-content style="padding: 20px;">
      <div class="form-grid">
        <!-- Nome do Atleta -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Nome do Atleta</mat-label>
          <input matInput formControlName="nomeAtleta">
          <mat-icon matSuffix>person</mat-icon>
          @if (form.get('nomeAtleta')?.invalid && form.get('nomeAtleta')?.touched) {
            <mat-error>{{ getErrorMessage('nomeAtleta') }}</mat-error>
          }
        </mat-form-field>

        <!-- Data de Nascimento -->
        <mat-form-field appearance="outline">
          <mat-label>Data de Nascimento</mat-label>
          <input matInput type="text" dateMask formControlName="dataNascimento">
          <mat-icon matSuffix>cake</mat-icon>
          @if (form.get('dataNascimento')?.invalid && form.get('dataNascimento')?.touched) {
            <mat-error>{{ getErrorMessage('dataNascimento') }}</mat-error>
          }
        </mat-form-field>

        <!-- Sexo -->
        <mat-form-field appearance="outline">
          <mat-label>Sexo</mat-label>
          <mat-select formControlName="sexo">
            <mat-option value="M">Masculino</mat-option>
            <mat-option value="F">Feminino</mat-option>
          </mat-select>
          <mat-icon matSuffix>wc</mat-icon>
          @if (form.get('sexo')?.invalid && form.get('sexo')?.touched) {
            <mat-error>{{ getErrorMessage('sexo') }}</mat-error>
          }
        </mat-form-field>

        <!-- Nacionalidade -->
        <mat-form-field appearance="outline">
          <mat-label>Nacionalidade</mat-label>
          <input matInput formControlName="nacionalidade">
          <mat-icon matSuffix>flag</mat-icon>
          @if (form.get('nacionalidade')?.invalid && form.get('nacionalidade')?.touched) {
            <mat-error>{{ getErrorMessage('nacionalidade') }}</mat-error>
          }
        </mat-form-field>

        <!-- Naturalidade -->
        <mat-form-field appearance="outline">
          <mat-label>Naturalidade</mat-label>
          <input matInput formControlName="naturalidade">
          <mat-icon matSuffix>place</mat-icon>
          @if (form.get('naturalidade')?.invalid && form.get('naturalidade')?.touched) {
            <mat-error>{{ getErrorMessage('naturalidade') }}</mat-error>
          }
        </mat-form-field>
      </div>
      <!-- Seção de Filiação -->
      <mat-card class="form-section">
        <mat-card-header>
          <mat-card-title>
            <mat-icon>family_restroom</mat-icon>
            Filiação
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="form-grid">
            <!-- Nome do Pai -->
            <mat-form-field appearance="outline">
              <mat-label>Nome do Pai</mat-label>
              <input matInput formControlName="nomePai">
              <mat-icon matSuffix>person</mat-icon>
              @if (form.get('nomePai')?.invalid && form.get('nomePai')?.touched) {
                <mat-error>{{ getErrorMessage('nomePai') }}</mat-error>
              }
            </mat-form-field>
            <!-- Nome da Mãe -->
            <mat-form-field appearance="outline">
              <mat-label>Nome da Mãe</mat-label>
              <input matInput formControlName="nomeMae">
              <mat-icon matSuffix>person</mat-icon>
              @if (form.get('nomeMae')?.invalid && form.get('nomeMae')?.touched) {
                <mat-error>{{ getErrorMessage('nomeMae') }}</mat-error>
              }
            </mat-form-field>
          </div>
        </mat-card-content>
      </mat-card>
      <mat-card class="form-section">
        <mat-card-header>
          <mat-card-title>
            <mat-icon>info</mat-icon>
            Status
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="info-adicionais">
            <!-- Ativo -->
            <div class="toggle-field">
              <mat-slide-toggle formControlName="ativo" color="primary">
                Atleta Ativo
              </mat-slide-toggle>
            </div>
            <!-- Árbitro -->
            <div class="toggle-field">
              <mat-slide-toggle formControlName="chkArbitro" color="primary">
                Árbitro
              </mat-slide-toggle>
            </div>
            <!-- Avaliador -->
            <div class="toggle-field">
              <mat-slide-toggle formControlName="chkAvaliador" color="primary">
                Avaliador
              </mat-slide-toggle>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
      <mat-card class="form-section">
        <mat-card-content>
          <mat-tab-group>
            <mat-tab>
              <ng-template mat-tab-label>
                  <mat-icon>home</mat-icon>
                  Endereço
              </ng-template>
              <!-- Endereço -->
              <mat-card class="form-section">
                <mat-card-content>
                  <app-endereco
                    [endereco]="atleta()?.endereco"
                    (enderecoEvent)="atualizarEndereco($event)"
                    (onInvalid)="enderecoInvalido($event)"
                  ></app-endereco>
                </mat-card-content>
              </mat-card>
            </mat-tab>
            <mat-tab>
              <ng-template mat-tab-label>
                <mat-icon>phone</mat-icon>
                Contato
              </ng-template>
              <mat-card-content>
                <app-atleta-contato-form
                  [atleta]="atleta()"
                  (valor)="atualizarContato($event)"
                  (onInvalid)="contatoInvalido($event)"
                ></app-atleta-contato-form>
              </mat-card-content>
            </mat-tab>
            <mat-tab>
              <ng-template mat-tab-label>
                <mat-icon>description</mat-icon>
                Documentos
              </ng-template>
              <mat-card-content>
                <app-atleta-documentos-form
                  [atleta]="atleta()"
                  (valor)="atualizarDocumentos($event)"
                  (onInvalid)="documentosInvalidos($event)"
                ></app-atleta-documentos-form>
              </mat-card-content>
            </mat-tab>
          </mat-tab-group>
        </mat-card-content>
      </mat-card>
    </mat-card-content>
  </mat-card>
</form>
